<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Posts &middot; make clean; make</title>

    <meta name="description" content="">

    <meta name="generator" content="Hugo 0.57.0-DEV" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Posts &middot; make clean; make">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Posts &middot; make clean; make">
    <meta property="og:description" content="">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">

    <link rel="stylesheet" href="https://pankona.github.io/css/poole.css">
    <link rel="stylesheet" href="https://pankona.github.io/css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="make clean; make" href="https://pankona.github.io/atom.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://pankona.github.io">make clean; make</a></h1>
            <h2 class="brand-tagline"></h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/@pankona"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/pankona "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://pankona.github.io/atom.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">23 Jun 2018, 17:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://pankona.github.io/blog/2018/06/23/mashimahi/" class="post-title">強いパスワードのためのフレーズジェネレータを作ってみた</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>ふと思い立って、フレーズジェネレータなるものを作ってみた。</p>

<p><blockquote class="twitter-tweet" data-lang="ja"><p lang="ja" dir="ltr">こないだ作ってみた「強そうなパスフレーズ/パスワード生成器 (PhraGen)」に CSS をあててちょっとオシャレにしといたぞ。無駄に日本語への自動翻訳もつけておきたかったが、翻訳部分は無料ではいまいち達成できなそうかなー。<a href="https://t.co/tThQl1mfSe">https://t.co/tThQl1mfSe</a></p>&mdash; パン粉 (@pankona) <a href="https://twitter.com/pankona/status/1010435240714633216?ref_src=twsrc%5Etfw">2018年6月23日</a></blockquote><br />
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>

<p>GAE/Go で作成。<a href="https://strongest-mashimashi.appspot.com/">ココ</a> にホスティング。PhraGen (ふらげん) と命名。</p>

<h2 id="これは何か">これは何か</h2>

<p>どこかで聞いた話であるが、いわゆる「強いパスワードというのはどうやって生成するのが良いのか」ということを考えた時に、<br />
ひとつの手法として<strong>「英語の辞書からランダムで 3 単語ひっぱってきてつなげるのが良い」</strong>というのがあると小耳に挟んだわけである。</p>

<p>なるほどなるほど、ということで、では試しに作ってみようということで作ってみたのがこれである。</p>

<h2 id="ちょっとした工夫">ちょっとした工夫</h2>

<p>完全にランダムな単語をチョイスしたほうがパスワード的には強いのだろうけど、きっとそれは覚えにくいフレーズになってしまうと思われる。<br />
ということで、ちょっとでも覚えやすいフレーズを生成するために、完全にランダムなチョイスではなく<strong>「形容詞＋形容詞＋名詞」</strong>の順で現れるフレーズを生成するようにしてみた。<br />
<strong>Super Great Goalkeeper</strong> 的なものが生成されることをイメージしている。</p>

<h2 id="ジェネレータのしくみなど">ジェネレータのしくみなど</h2>

<h3 id="oxford-dictionaries-api">Oxford Dictionaries API</h3>

<p>そもそも英語の辞書のデータをどのように扱えば良いのか。出どころはどこか、ということを探していると以下を見つけた。</p>

<p><a class="embedly-card" data-card-controls="0" href="https://developer.oxforddictionaries.com/">Oxford Dictionaries API</a><br />
<script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script></p>

<p>これは英語辞書で有名な Oxford が提供してくれている (と思われる)、Web API である。<br />
REST API の形をしていて (なんと Swagger の定義までついている)、ドキュメントの記載通りに叩くことで単語とその意味などを得ることができる。<br />
形容詞で、&rdquo;super で始まる&rdquo; 5字以上の単語、みたいなクエリでワードリストを取得できるような機能が提供されている。</p>

<p>これを利用しようということで、まずは提供されている swagger の定義をありがたくお借りしてクライアントライブラリを生成した。<br />
以下のリポジトリに置いておいた。またいつか使うかもしれない。</p>

<p><a class="embedly-card" data-card-controls="0" href="https://github.com/pankona/oxford-dict-api-client-go">pankona/oxford-dict-api-client-go</a><br />
<script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script></p>

<h3 id="レスポンス遅いけどキャッシュは規約違反">レスポンス遅いけどキャッシュは規約違反</h3>

<p>ただ、一回のクエリに数秒かかるようなところがあり、PhraGen の裏で動かすにはちょっとしんどい一面がある。<br />
3 単語から構成されるフレーズを作るということは 3 回リクエストするということであり、つまり 1 フレーズ生成につき 5〜6 秒は待たされてしまう。</p>

<p>問い合わせてみたところ、規約上、フリーのプランでは Oxford Dictionaries API が吐き出す結果をキャッシュしておくことは禁止とのこと。<br />
お金を払えば制限つきでキャッシュしておけるということで、検討されたしとのお達しであった。うーむ…。<br />
※ この点については、近日中にバイオレーションのない形に変更予定。</p>

<h3 id="ホスティングは-gae-バックエンドは-go">ホスティングは GAE、バックエンドは Go</h3>

<p>ジェネレータは GAE/Go で作った。ソースコードは以下のリポジトリに格納。</p>

<p><a class="embedly-card" data-card-controls="0" href="https://github.com/pankona/strongest-mashimashi">pankona/strongest-mashimashi</a><br />
<script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script></p>

<p>リポジトリ名に深い意味はなく、なんとなく語呂が良いのでつけておいた。ストロンゲストマシマシ。</p>

<h3 id="フロントエンドは色々">フロントエンドは色々</h3>

<p>フロントエンド力がナメクジレベルのパン粉であるが、色々調べつつ、以下の技術要素の利用を試みている。<br />
特に CSS フレームワーク Bulma のおかげで、PhraGen はまあまあしゃらくさい感じのキレイな見た目になったのではないかと思っている。</p>

<ul>
<li>TypeScript<br /></li>
<li>React<br /></li>
<li>CSS フレームワークとして Bulma<br />
<br /></li>
</ul>

<h3 id="使えるのか">使えるのか</h3>

<p>使えるかどうかよりもそもそも使わなそう。<br />
でもせっかく作ったので、実際にパスワードの生成のために使ってみる所存。</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 May 2018, 19:39</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://pankona.github.io/blog/2018/05/30/golangtokyo-15/" class="post-title">golang.tokyo #15@DeNA</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p><a href="https://golangtokyo.connpass.com/event/87064/">golang.tokyo #15</a>に参加してきた。<br />
内容は以下。</p>

<ul>
<li>メインの30分セッションふたつ<br />

<ul>
<li>Effective Streaming in Golang by <a href="https://twitter.com/avvmoto">avvmoto</a> さん<br /></li>
<li>次世代のコンテナランタイム！？gVisorのコードを読みながら理解してみる by <a href="https://twitter.com/niconegoto">niconegoto</a> さん<br /></li>
</ul></li>
<li>ライトニングトークは発表予定の 2 人が都合が悪くなってしまったらしく、急遽代打を現地で 2 名補充<br />
<br /></li>
</ul>

<h2 id="effective-streaming-in-golang-by-avvmoto-https-twitter-com-avvmoto-さん">Effective Streaming in Golang by <a href="https://twitter.com/avvmoto">avvmoto</a> さん</h2>

<iframe id="talk_frame_446760" src="//speakerdeck.com/player/3431ee80147b48b2beabf723612382e5" width="800" height="565" style="border:0; padding:0; margin:0; background:transparent;" frameborder="0" allowtransparency="true" allowfullscreen="allowfullscreen" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

<div style="margin-bottom:24px">
  <a href=/images/golang.tokyo-15/10.jpg><img src=/images/golang.tokyo-15/resized_10.jpg /></a>
  <div class="caption">avvmoto さんの発表。io package を使いこなして無駄をなくそう！</div>
</div>

<p>何かデータを読み込んでそれを引き回そうというときに、<strong>読み取り時にメモリ上に確保し、 確保したメモリを引き回す</strong>とやってしまうと、関数をまたぐたびにコピーが発生してしまう (もしくはポインタで渡していくか) みたいなことが起きがちである。<br />
io.Reader interface を引き回すことで、<strong>いざ実際に必要になった段で初めてメモリ上に読み込む</strong>ような動作にでき、メモリ効率、処理速度の向上に寄与できるんじゃない、という話だったと理解した。</p>

<h2 id="次世代のコンテナランタイム-gvisor-を理解する-by-niconegoto-https-twitter-com-niconegoto-さん">次世代のコンテナランタイム gVisor を理解する by <a href="https://twitter.com/niconegoto">niconegoto</a> さん</h2>

<iframe id="talk_frame_446448" src="//speakerdeck.com/player/648504c5f1724ee5b97d1f14ca12a4cb" width="850" height="463" style="border:0; padding:0; margin:0; background:transparent;" frameborder="0" allowtransparency="true" allowfullscreen="allowfullscreen" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

<div style="margin-bottom:24px">
  <a href=/images/golang.tokyo-15/08.jpg><img src=/images/golang.tokyo-15/resized_08.jpg /></a>
  <div class="caption">noconegoto さん。</div>
</div>

<p>gVisor はよりセキュアにコンテナの仕組みを使おうということで出てきたプロダクトの模様。<br />
Google においては、gVisor についていずれ論文で技術的な詳細をつまびらかにする予定があるらしく、出てきたら読んでみようかなと思う。<br />
ちなみに、<a href="https://github.com/google/gvisor">gVisor のソースコード</a>は既に20万行くらいになっているらしく、なかなかゴツいっすね…。</p>

<p>暫時休憩を挟み。</p>

<div style="margin-bottom:24px">
  <a href=/images/golang.tokyo-15/03.jpg><img src=/images/golang.tokyo-15/resized_03.jpg /></a>
  <div class="caption">軽食のミニチキンカツサンド。本日も色々いただきました。ありがとうございました。</div>
</div>

<p>以下、ライトニングトーク。</p>

<h2 id="lt-by-yoshi-xxxxxiiii-https-twitter-com-yoshi-xxxxxiiii-さん-from-cluex">LT by <a href="https://twitter.com/yoshi_xxxxxiiii">@yoshi_xxxxxiiii</a> さん from Cluex</h2>

<iframe id="talk_frame_446461" src="//speakerdeck.com/player/e4a3aaa06df042cbbcd90cd215ec858d" width="800" height="596" style="border:0; padding:0; margin:0; background:transparent;" frameborder="0" allowtransparency="true" allowfullscreen="allowfullscreen" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

<div style="margin-bottom:24px">
  <a href=/images/golang.tokyo-15/04.jpg><img src=/images/golang.tokyo-15/resized_04.jpg /></a>
  <div class="caption">yoshi_xxxxxiiii さん。アゴヒゲキンパツの二つ名があるとのこと。</div>
</div>

<ul>
<li>「mamanoko」「ままのて」というサービスを運営されているとのこと。<br /></li>
<li>せっかく実装したローディング画面について、サーバが JSON 返すの速くなりすぎてローディング画面が出ない、という苦情があったらしい。すごいね。<br />
<br /></li>
</ul>

<p>しばしば Rails と Go は比較に上がる気がする。Go に一部変えたら速くなりました！みたいな。<br />
Rails だから遅いってこともないという認識だけど、速くしようと思ったら大変ってことなのかなー。</p>

<h2 id="lt-by-pospome-https-twitter-com-pospome-さん">LT by <a href="https://twitter.com/pospome">@pospome</a> さん</h2>

<ul>
<li>急遽代打で登壇。<br /></li>
<li>技術書典で golang.tokyo が出した本に寄稿した内容の紹介<br />
<br /></li>
</ul>

<h2 id="lt-by-karupanerura-https-twitter-com-karupanerura-さん">LT by <a href="https://twitter.com/karupanerura">@karupanerura</a> さん</h2>

<ul>
<li>こちらも急遽代打で登壇。<br /></li>
<li>以下の記事について解説。<br />
<a class="embedly-card" href="https://qiita.com/karupanerura/items/fa3b35dfdceb96730b03">Goで書いたMicroservicesな構成からWeb APIを叩くときに考えたこと - Qiita</a><br />
<script async src="//cdn.embedly.com/widgets/platform.js" charset="UTF-8"></script><br />
<br />
<br /></li>
</ul>

                    </div>
                </section>
                
                <h1 class="content-subhead">16 Apr 2018, 19:32</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://pankona.github.io/blog/2018/04/16/golangtokyo-14/" class="post-title">golang.tokyo #14@メルカリ</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p><a href="https://golangtokyo.connpass.com/event/82723/">golang.tokyo #14</a> に参加してきたのでその内容メモ。<br />
発表内容は以下。</p>

<ul>
<li>ホリネズミでもわかる Goroutine 入門 by <a href="https://twitter.com/inukirom">@inukirom</a> さん<br /></li>
<li>チャネルのしくみ by <a href="https://twitter.com/knsh14">@knsh14</a> さん<br /></li>
<li>ライトニングトーク 3 つ<br />

<ul>
<li>vgo の話 by <a href="https://twitter.com/tanksuzuki">@tanksuzuki</a> さん<br /></li>
<li>プロダクションに Go を適用した話 by <a href="https://twitter.com/kurikazu">@kurikazu</a> さん<br /></li>
<li>linter を作る話<br />
<br /></li>
</ul></li>
</ul>

<p>例によって軽食 (と言いつつかなり十分な量の食事が) 提供されており、ありがたくいただきました…！<br />
ありがとうございました。ごちそうさまでした。</p>

<h2 id="ホリネズミでもわかる-goroutine-入門-by-inukirom-https-twitter-com-inukirom-さん">ホリネズミでもわかる Goroutine 入門 by <a href="https://twitter.com/inukirom">@inukirom</a> さん</h2>

<iframe id="talk_frame_438844" src="//speakerdeck.com/player/5611568f65044914bb63fb0d787e0852" width="1000" height="575" style="border:0; padding:0; margin:0; background:transparent;" frameborder="0" allowtransparency="true" allowfullscreen="allowfullscreen" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

<div style="margin-bottom:24px">
  <a href=/images/golang.tokyo-14/05.jpg><img src=/images/golang.tokyo-14/resized_05.jpg /></a>
  <div class="caption">inukirom さん発表の様子。とても丁寧でわかりやすかった。</div>
</div>

<h3 id="goroutine-と-chan-の基本的な使い方">goroutine と chan の基本的な使い方</h3>

<p>goroutine と defer と panic を組み合わせて使う場合に注意すべき点があり、<br />
たとえば以下のような場合、A 内で張った defer は呼び出されない<strong>場合がある</strong>。<br />
(スライド内では&rdquo;呼び出されない&rdquo;と書かれているが、その限りではなさそうな)</p>

<pre><code>func A() {
    defer func(){}()
    go B()
}

func B() {
    panic(&quot;panic!!&quot;)
}
</code></pre>

<p>状況としては、</p>

<ul>
<li><code>A()</code> が終わるよりも先に <code>B()</code> 内の <code>panic</code> が先に実行されたときは、<code>A()</code> 内の <code>defer</code> は呼び出されないまま終わる。<br /></li>
<li><code>panic</code> よりも <code>A()</code> が終了するほうが先なのであれば、<code>defer</code> は実行される。<br />
<br /></li>
</ul>

<h3 id="channel">channel</h3>

<p>channel については以下のような話題がとりあげられた。</p>

<ul>
<li>close は結構デリケート (使い方を誤るとすぐに動かなくなる) なので注意<br /></li>
<li>RW、R only、W only という属性を持たせられる<br /></li>
<li>select. default で non-blocking にできる<br />
<br /></li>
</ul>

<p>ところで、channel は close しないでほっとくような例もよく見るのであれが、close しなくて良いのだろうか？</p>

<p><a href="https://groups.google.com/forum/#!msg/golang-nuts/pZwdYRGxCIk/qpbHxRRPJdUJ">golang-nuts でのやりとり</a> を見るにつけては、 使われなくなった channel は GC の対象になるため、あえて明示的に close する必要はないと言っている気がする。 channel を close すると受け手側にお知らせがいくので、どうやらそういう目的で使うらしい。</p>

<h3 id="wait-処理">wait 処理</h3>

<p>goroutine の終了を待ち合わせする例の紹介。</p>

<ul>
<li>channel で待つ<br />

<ul>
<li>単なるお知らせであってお知らせ内容に意味がないのであれば、<code>struct{}{}</code> を使うのがメモリ効率が良い。<br /></li>
</ul></li>
<li>sync.WaitGroup<br />

<ul>
<li><code>sync.WaitGroup</code> で、複数の goroutine を待ち合わせしやすくなる<br /></li>
<li><code>sync.WaitGroup</code> にエラー処理を生やしたみたいな <code>errgroup</code> なんかもある<br />
<br /></li>
</ul></li>
</ul>

<h3 id="for-ループと-goroutine">for ループと goroutine</h3>

<p>for 文の中で goroutine 立てる例。よくある罠。</p>

<ul>
<li>引数に渡して何とかする例<br /></li>
<li>競合の解決<br />

<ul>
<li>直列でええやん、という場合もある<br /></li>
<li>排他制御に <code>sync.Mutex</code> 使う例。<code>RWMutex</code> もあるぞ<br /></li>
<li><code>sync/atomic</code> というパッケージもあるぞ<br />
<br /></li>
</ul></li>
</ul>

<h3 id="goroutine-のリーク">goroutine のリーク</h3>

<ul>
<li>goroutine の中でブロックしちゃうと goroutine がリークする<br />

<ul>
<li><code>context.Context</code> 等を用いると goroutine を終わらせる処理を書きやすい<br />
<br /></li>
</ul></li>
</ul>

<h3 id="便利ツールの紹介">便利ツールの紹介</h3>

<ul>
<li>gotrace<br />

<ul>
<li>goroutine と channel のやりとりを可視化できるぞ…！<br /></li>
<li>docker image を使って動かしている<br />
<br /></li>
</ul></li>
</ul>

<h2 id="チャネルのしくみ-by-knsh14-https-twitter-com-knsh14-さん">チャネルのしくみ by <a href="https://twitter.com/knsh14">@knsh14</a> さん</h2>

<iframe id="talk_frame_438853" src="//speakerdeck.com/player/3ca3b188d9904775b4281cfee7018c27" width="1000" height="575" style="border:0; padding:0; margin:0; background:transparent;" frameborder="0" allowtransparency="true" allowfullscreen="allowfullscreen" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

<div style="margin-bottom:24px">
  <a href=/images/golang.tokyo-14/03.jpg><img src=/images/golang.tokyo-14/resized_03.jpg /></a>
  <div class="caption">knsh14 さん発表の様子。シュラスコと寿司で例えていく。</div>
</div>

<p>以下、LT</p>

<h2 id="vgo-by-tanksuzuki-https-twitter-com-tanksuzuki-さん">vgo by <a href="https://twitter.com/tanksuzuki">@tanksuzuki</a> さん</h2>

<iframe id="talk_frame_438880" src="//speakerdeck.com/player/08cee61b8c56450d8ef618b378fcd6a0" width="1000" height="575" style="border:0; padding:0; margin:0; background:transparent;" frameborder="0" allowtransparency="true" allowfullscreen="allowfullscreen" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>

<div style="margin-bottom:24px">
  <a href=/images/golang.tokyo-14/02.jpg><img src=/images/golang.tokyo-14/resized_02.jpg /></a>
  <div class="caption">tanksuzuki さん発表の様子。GOPATH なくなるのは胸熱。</div>
</div>

<p>vgo に関してはまだ使うのしんどい一面もあるものの、GOPATH、vendor が不要になるみたいな、Go を紹介するときに割と不評を買うところが改善されていくわけであり、今後に大いに期待である。</p>

<h2 id="プロダクションに-go-を適用した話-by-kurikazu-https-twitter-com-kurikazu-さん">プロダクションに Go を適用した話 by <a href="https://twitter.com/kurikazu">@kurikazu</a> さん</h2>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/lyY1i4CNbWM6jP" width="595" height="520" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen></iframe><div style="margin-bottom:5px"></div></iframe>

<div style="margin-bottom:24px">
  <a href=/images/golang.tokyo-14/04.jpg><img src=/images/golang.tokyo-14/resized_04.jpg /></a>
  <div class="caption">kurikazu さん発表の様子。Go 導入してハッピーなのは良いね！</div>
</div>

<h2 id="linter-を作る話-by-dice-zu-https-twitter-com-dice-zu-さん">linter を作る話 by <a href="https://twitter.com/dice_zu">@dice_zu</a> さん</h2>

<iframe src=https://daisuzu.github.io/golang-tokyo-14/#1 width="1000" height="600"></iframe>

<div style="margin-bottom:24px">
  <a href=/images/golang.tokyo-14/01.jpg><img src=/images/golang.tokyo-14/resized_01.jpg /></a>
  <div class="caption">dice_zu さん発表の様子。lint を比較的容易に自作できるのも Go の良いところか。</div>
</div>

<p>プロジェクト独自のコーディングルールとかがあるのであれば、チームで lint を作って運用するのもありかもしれない。<br />
個人的には named return value 禁止とかやりたいところであるが…？</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">05 Feb 2018, 00:38</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://pankona.github.io/blog/2018/02/05/droidkaigi_2018_material/" class="post-title">DroidKaigi 2018 向け資料 - gomobile でゲームを作る</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-DroidKaigi" href="https://pankona.github.io/categories/droidkaigi">DroidKaigi</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>DroidKaigi 2018 では以下の枠で発表する予定。</p>

<p>DAY.01 (Feb 8th, 2018) 14:00-14:30 Room 7 - <a href="https://droidkaigi.jp/2018/timetable?session=17012">gomobile でゲームを作る</a><br />
資料はココ → <a href="http://pankona.github.io/slides/droidkaigi_2018.html">gomobile でゲームは作れる</a></p>

<h2 id="発表内容についての徒然">発表内容についての徒然</h2>

<p>DroidKaigi と言うからには Androider たちの集いであることは間違いないと思うんだけど、<br />
さて、であればそもそも Go 言語が登場すること自体が結構レアな事態であり、ややもすれば<br />
聴衆は Go 言語のこと全然知らないってこともありうるんじゃないかと想像したりしている。</p>

<p>ということに鑑みて、「Go とは何か」みたいなところから話題を始めようと思っているが、<br />
だとすると 30 分ではあまり細かい話 (JNI で Toast 出すのが何故困難か、とか) まで踏み込めない構成になってしまい、<br />
なかなか悩ましいところである。ニッチ枠であるならば、もっとニッチにニッチを煮詰めたような内容にしたいのであるが…。</p>

<p>ということで、ニッチにニッチを煮詰めたような内容はブログ記事に書いておき、<br />
興味があったら見てね、みたいな感じにしとこうという結論に達した。<br />
発表内容はライトに。リンク先はもう少し深く、みたいな。</p>

<p>DroidKaigi は、実は見に行くのも初めてなので、他のセッションを聞いて廻るのも楽しみである。</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">31 Jan 2018, 16:30</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://pankona.github.io/blog/2018/01/31/gomobile_get_files_dir/" class="post-title">gomobile (build) で作るアプリでファイルを保存する</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-go" href="https://pankona.github.io/categories/go">go</a><a class="post-category post-category-gomobile" href="https://pankona.github.io/categories/gomobile">gomobile</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>gomobile という Go 言語で Android/iOS のアプリを作ろうというプロジェクト (準公式) が存在する。<br />
ページはココ → <a href="https://github.com/golang/go/wiki/Mobile">gomobile の公式 wiki ページ - https://github.com/golang/go/wiki/Mobile</a></p>

<p><code>gomobile build</code> コマンド一発で Go のソースから APK が生成されるというなかなか豪快なコマンドなのであるが、<br />
いかんせん色々制限があって、いざ何か作ってみようとするとまあまあハマる。<br />
どんな苦行があるかは <a href="https://qiita.com/pankona/items/11941a5cfb668e653b4a">手前味噌だが Qiita の記事</a> に何となく記しておいた。</p>

<p>上記記事には書いてなかったハマりポイントとして、<strong>「ファイルを永続領域に保存する API がない」</strong>というのがある。<br />
ファイルを保存できないということは、ゲーム作ってて何かセーブデータでも保存しよう、とかそういうことができないってことである。<br />
割と致命的である。</p>

<p>ただ、実は gomobile はパッケージ内に JNI を触る実装を持っていて (何故か internal パッケージなので外から触れないが) 、<br />
それを参考にすれば、cgo 経由で JNI に触ることができる。<br />
JNI に触れるということは、Java の API に触れるということで、それはすなわち Android SDK の API に触れるということである。<br />
Go から Android SDK の API に触れるのである。</p>

<h2 id="android-アプリ作成におけるファイル保存領域の取得">Android アプリ作成におけるファイル保存領域の取得</h2>

<p>ググればさっさと出てくるが、Android アプリを作る際には以下のようなコードを書くと、<br />
ファイルを永続保存できる領域へのディレクトリパスを取得できる (アプリアンインストールと共に削除される) 。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#a6e22e">class</span> MyActivity <span style="color:#a6e22e">extends</span> AppCompatActivity {
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#a6e22e">void</span> onCreate(Bundle <span style="color:#a6e22e">savedInstanceState</span>) {
        String <span style="color:#a6e22e">dir</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">getCacheDir</span>().<span style="color:#a6e22e">getAbsolutePath</span>();
        <span style="color:#75715e">// dir にはファイル保存可能領域 (internal storage) への絶対パスが入る
</span><span style="color:#75715e"></span>    }
}</code></pre></div>
<h2 id="gomobile-build-アプリ作成時におけるファイル保存領域の取得">gomobile (build) アプリ作成時におけるファイル保存領域の取得</h2>

<p>つまりは上記と同様の処理を JNI で書いてやれば良い。<br />
以下のようになる。</p>

<h3 id="jni-パッケージ-go言語-c言語">jni パッケージ (Go言語 + C言語)</h3>

<p>指定した関数を JNI 上で実行する関数 <code>RunOnJVM</code> を定義しているパッケージ。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// +build android
</span><span style="color:#75715e"></span>
<span style="color:#f92672">package</span> <span style="color:#a6e22e">jni</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">#cgo LDFLAGS: -landroid
</span><span style="color:#75715e">#include &lt;jni.h&gt;
</span><span style="color:#75715e">#include &lt;stdlib.h&gt;
</span><span style="color:#75715e">
</span><span style="color:#75715e">JavaVM* current_vm;
</span><span style="color:#75715e">jobject current_ctx;
</span><span style="color:#75715e">
</span><span style="color:#75715e">static char *
</span><span style="color:#75715e">_lockJNI(uintptr_t* envp, int* attachedp) {
</span><span style="color:#75715e">	JNIEnv* env;
</span><span style="color:#75715e">
</span><span style="color:#75715e">	if (current_vm == NULL) {
</span><span style="color:#75715e">		return &#34;no current JVM&#34;;
</span><span style="color:#75715e">	}
</span><span style="color:#75715e">
</span><span style="color:#75715e">	*attachedp = 0;
</span><span style="color:#75715e">	switch ((*current_vm)-&gt;GetEnv(current_vm, (void**)&amp;env, JNI_VERSION_1_6)) {
</span><span style="color:#75715e">	case JNI_OK:
</span><span style="color:#75715e">		break;
</span><span style="color:#75715e">	case JNI_EDETACHED:
</span><span style="color:#75715e">		if ((*current_vm)-&gt;AttachCurrentThread(current_vm, &amp;env, 0) != 0) {
</span><span style="color:#75715e">			return &#34;cannot attach to JVM&#34;;
</span><span style="color:#75715e">		}
</span><span style="color:#75715e">		*attachedp = 1;
</span><span style="color:#75715e">		break;
</span><span style="color:#75715e">	case JNI_EVERSION:
</span><span style="color:#75715e">		return &#34;bad JNI version&#34;;
</span><span style="color:#75715e">	default:
</span><span style="color:#75715e">		return &#34;unknown JNI error from GetEnv&#34;;
</span><span style="color:#75715e">	}
</span><span style="color:#75715e">
</span><span style="color:#75715e">	*envp = (uintptr_t)env;
</span><span style="color:#75715e">	return NULL;
</span><span style="color:#75715e">}
</span><span style="color:#75715e">
</span><span style="color:#75715e">static char *
</span><span style="color:#75715e">_checkException(uintptr_t jnienv) {
</span><span style="color:#75715e">	jthrowable exc;
</span><span style="color:#75715e">	JNIEnv* env = (JNIEnv*)jnienv;
</span><span style="color:#75715e">	if (!(*env)-&gt;ExceptionCheck(env)) {
</span><span style="color:#75715e">		return NULL;
</span><span style="color:#75715e">	}
</span><span style="color:#75715e">
</span><span style="color:#75715e">	exc = (*env)-&gt;ExceptionOccurred(env);
</span><span style="color:#75715e">	(*env)-&gt;ExceptionClear(env);
</span><span style="color:#75715e">
</span><span style="color:#75715e">	jclass clazz = (*env)-&gt;FindClass(env, &#34;java/lang/Throwable&#34;);
</span><span style="color:#75715e">	jmethodID toString = (*env)-&gt;GetMethodID(env, clazz, &#34;toString&#34;, &#34;()Ljava/lang/String;&#34;);
</span><span style="color:#75715e">	jobject msgStr = (*env)-&gt;CallObjectMethod(env, exc, toString);
</span><span style="color:#75715e">	return (char*)(*env)-&gt;GetStringUTFChars(env, msgStr, 0);
</span><span style="color:#75715e">}
</span><span style="color:#75715e">
</span><span style="color:#75715e">void
</span><span style="color:#75715e">_unlockJNI() {
</span><span style="color:#75715e">	(*current_vm)-&gt;DetachCurrentThread(current_vm);
</span><span style="color:#75715e">}
</span><span style="color:#75715e">*/</span>
<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;C&#34;</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;errors&#34;</span>
	<span style="color:#e6db74">&#34;runtime&#34;</span>
	<span style="color:#e6db74">&#34;unsafe&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">RunOnJVM</span>(<span style="color:#a6e22e">fn</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">vm</span>, <span style="color:#a6e22e">env</span>, <span style="color:#a6e22e">ctx</span> <span style="color:#66d9ef">uintptr</span>) <span style="color:#66d9ef">error</span>) <span style="color:#66d9ef">error</span> {
	<span style="color:#a6e22e">errch</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">error</span>)
	<span style="color:#66d9ef">go</span> <span style="color:#66d9ef">func</span>() {
		<span style="color:#a6e22e">runtime</span>.<span style="color:#a6e22e">LockOSThread</span>()
		<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">runtime</span>.<span style="color:#a6e22e">UnlockOSThread</span>()

		<span style="color:#a6e22e">env</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">uintptr_t</span>(<span style="color:#ae81ff">0</span>)
		<span style="color:#a6e22e">attached</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">C</span>.int(<span style="color:#ae81ff">0</span>)
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">errStr</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">_lockJNI</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">env</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">attached</span>); <span style="color:#a6e22e">errStr</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
			<span style="color:#a6e22e">errch</span> <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">errors</span>.<span style="color:#a6e22e">New</span>(<span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">GoString</span>(<span style="color:#a6e22e">errStr</span>))
			<span style="color:#66d9ef">return</span>
		}
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">attached</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span> {
			<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">_unlockJNI</span>()
		}

		<span style="color:#a6e22e">vm</span> <span style="color:#f92672">:=</span> uintptr(<span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>(<span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">current_vm</span>)) <span style="color:#75715e">// #nosec
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">fn</span>(<span style="color:#a6e22e">vm</span>, uintptr(<span style="color:#a6e22e">env</span>), uintptr(<span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">current_ctx</span>)); <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
			<span style="color:#a6e22e">errch</span> <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">err</span>
			<span style="color:#66d9ef">return</span>
		}

		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">exc</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">_checkException</span>(<span style="color:#a6e22e">env</span>); <span style="color:#a6e22e">exc</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
			<span style="color:#a6e22e">errch</span> <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">errors</span>.<span style="color:#a6e22e">New</span>(<span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">GoString</span>(<span style="color:#a6e22e">exc</span>))
			<span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">free</span>(<span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>(<span style="color:#a6e22e">exc</span>)) <span style="color:#75715e">// #nosec
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">return</span>
		}
		<span style="color:#a6e22e">errch</span> <span style="color:#f92672">&lt;-</span> <span style="color:#66d9ef">nil</span>
	}()
	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">errch</span>
}</code></pre></div>
<h3 id="上記-jni-パッケージを使ってファイル保存領域を取得するメソッド-go言語-c言語">上記 jni パッケージを使ってファイル保存領域を取得するメソッド (Go言語 + C言語)</h3>

<p>上記 jni パッケージを使って、ファイル保存領域を取得するための関数を jni 上で実行する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// +build android
</span><span style="color:#75715e"></span>
<span style="color:#f92672">package</span> <span style="color:#a6e22e">storage</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e">#include &lt;jni.h&gt;
</span><span style="color:#75715e">#include &lt;stdlib.h&gt;
</span><span style="color:#75715e">
</span><span style="color:#75715e">static const char *
</span><span style="color:#75715e">getFilesDir(uintptr_t java_vm, uintptr_t jni_env, uintptr_t jni_ctx) {
</span><span style="color:#75715e">	JNIEnv* env = (JNIEnv*)jni_env;
</span><span style="color:#75715e">	jobject ctx = (jobject)jni_ctx;
</span><span style="color:#75715e">
</span><span style="color:#75715e">	jclass context = (*env)-&gt;FindClass(env, &#34;android/content/Context&#34;);
</span><span style="color:#75715e">	if(context == NULL) {
</span><span style="color:#75715e">		return NULL;
</span><span style="color:#75715e">	}
</span><span style="color:#75715e">	jmethodID getFilesDir = (*env)-&gt;GetMethodID(env, context, &#34;getFilesDir&#34;, &#34;()Ljava/io/File;&#34;);
</span><span style="color:#75715e">	if(getFilesDir == NULL){
</span><span style="color:#75715e">		return NULL;
</span><span style="color:#75715e">	}
</span><span style="color:#75715e">
</span><span style="color:#75715e">	jobject f = (*env)-&gt;CallObjectMethod(env, ctx, getFilesDir);
</span><span style="color:#75715e">	if (f == NULL) {
</span><span style="color:#75715e">		return NULL;
</span><span style="color:#75715e">	}
</span><span style="color:#75715e">
</span><span style="color:#75715e">	jclass file = (*env)-&gt;FindClass(env, &#34;java/io/File&#34;);
</span><span style="color:#75715e">	if (file == NULL) {
</span><span style="color:#75715e">		return NULL;
</span><span style="color:#75715e">	}
</span><span style="color:#75715e">
</span><span style="color:#75715e">	jmethodID getAbsolutePath = (*env)-&gt;GetMethodID(env, file, &#34;getAbsolutePath&#34;, &#34;()Ljava/lang/String;&#34;);
</span><span style="color:#75715e">	if (getAbsolutePath == NULL) {
</span><span style="color:#75715e">		return NULL;
</span><span style="color:#75715e">	}
</span><span style="color:#75715e">
</span><span style="color:#75715e">	jstring path = (jstring)(*env)-&gt;CallObjectMethod(env, f, getAbsolutePath);
</span><span style="color:#75715e">	return (*env)-&gt;GetStringUTFChars(env, path, 0);
</span><span style="color:#75715e">}
</span><span style="color:#75715e">*/</span>
<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;C&#34;</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;unsafe&#34;</span>

	<span style="color:#e6db74">&#34;github.com/pankona/gomo-simra/simra/internal/jni&#34;</span>
	<span style="color:#e6db74">&#34;github.com/pankona/gomo-simra/simra/simlog&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">storageAndroid</span> <span style="color:#66d9ef">struct</span>{}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">NewStorage</span>() <span style="color:#a6e22e">Storager</span> {
	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">storageAndroid</span>{}
}

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">path</span> <span style="color:#66d9ef">string</span>

<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">s</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">storageAndroid</span>) <span style="color:#a6e22e">DirectoryPath</span>() <span style="color:#66d9ef">string</span> {
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#34;&#34;</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">path</span>
	}
	<span style="color:#a6e22e">jni</span>.<span style="color:#a6e22e">RunOnJVM</span>(
		<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">vm</span>, <span style="color:#a6e22e">env</span>, <span style="color:#a6e22e">ctx</span> <span style="color:#66d9ef">uintptr</span>) <span style="color:#66d9ef">error</span> {
			<span style="color:#a6e22e">cpath</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">getFilesDir</span>(<span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">uintptr_t</span>(<span style="color:#a6e22e">vm</span>), <span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">uintptr_t</span>(<span style="color:#a6e22e">env</span>), <span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">uintptr_t</span>(<span style="color:#a6e22e">ctx</span>))
			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">cpath</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
				<span style="color:#a6e22e">simlog</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#e6db74">&#34;failed to get FilesDir!&#34;</span>)
			}
			<span style="color:#a6e22e">path</span> = <span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">GoString</span>(<span style="color:#a6e22e">cpath</span>)
			<span style="color:#a6e22e">C</span>.<span style="color:#a6e22e">free</span>(<span style="color:#a6e22e">unsafe</span>.<span style="color:#a6e22e">Pointer</span>(<span style="color:#a6e22e">cpath</span>)) <span style="color:#75715e">// #nosec
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
		})
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">path</span>
}</code></pre></div>
<h3 id="directorypath-を呼び出す部分-go言語">DirectoryPath() を呼び出す部分 (Go言語)</h3>

<p>上記で準備した関数を呼び出す部分。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">f</span>() {
    <span style="color:#a6e22e">dir</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">storage</span>.<span style="color:#a6e22e">NewStorage</span>().<span style="color:#a6e22e">DirectoryPath</span>()
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;path to internal storage: %s&#34;</span>, <span style="color:#a6e22e">dir</span>)
}</code></pre></div>
<p>これで、ファイル保存領域へのディレクトリパスを取得できる。<br />
あとは、取得したディレクトリパス配下に保存したいものを保存する。</p>

<h2 id="余談-キャッシュディレクトリの取得">(余談) キャッシュディレクトリの取得</h2>

<p>上記のコードで永続保存が可能な領域へのパスが取得できるので、それはそれで良いのであるが、<br />
実はもっと手軽にファイル保存が可能な領域へのパスを取得できる方法があり、<br />
それは環境変数 <code>TMPDIR</code> を参照することである。</p>

<p>ただし、本値は Android SDK の API で言うところの <code>Context.getCacheDir</code> に相当し、<br />
Android 端末の状況によっては削除され得る領域であることに気をつける必要がある。<br />
が、ちょっと保存したいくらいの用途であれば耐えうるような気がする。<br />
以下のようにして取得する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">f</span>() {
    <span style="color:#a6e22e">dir</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Getenv</span>(<span style="color:#e6db74">&#34;TMPDIR&#34;</span>)
    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;path to internal storage (for cache): %s&#34;</span>, <span style="color:#a6e22e">dir</span>)
}</code></pre></div>
                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="/posts/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 2 of 10</span>
    
      <a href="/posts/page/3/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="https://gohugo.io/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="https://pankona.github.io/js/all.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
<script type="text/javascript" src="https://pankona.github.io/js/jquery.oembed.js"></script>
<script>
$(function(){
    $("a.embed").oembed();
});
</script>
<link rel="stylesheet" type="text/css" href="https://pankona.github.io/css/jquery.oembed.css"> 

        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-48476608-2', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
